{% style %}
    .grid-container {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 30px; /* Adjust the gap between cards */
  }

  .multicolumn-list__item {
    width: 100%;
  }

  .multicolumn-card {
    width: 100% !important;
    max-width: 370px;
    margin: 0 auto;
    background: {{ section.settings.testimonial_background }};
    padding: 20px;
    background-color:#FFFEF9;
    border: 1px solid #6C86FE;
    box-shadow: none;
    border-radius: 5px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  .p-testimonials{
    font-family: Outfit, sans-serif !important;
    font-weight: 500 !important;
    font-size: 16px !important;
    color: #0a1f44;
    margin-top: -20px;
  }

  .testimonials-title {
    font-size: 36px;
    font-family: "Outfit", sans-serif;
    color: #0a1f44 !important;
    font-weight: 600;
  }

  .multicolumn-card p {
    color: #0A1F44D9;
    font-size: 13px;
    line-height: 16px;
    font-family: "Open Sans", sans-serif;
    margin-bottom: 1.5rem;
  }

  .multicolumn-card h3 {
    color: #0a1f44;
    font-size: 13px;
    font-family: "Open Sans", sans-serif;
    font-weight: bold;
  }

  .multicolumn {
    padding: 30px 0px;
    background: {{ section.settings.testimonial_section_background }};
    text-align: left;
  }

  .reviews {
    margin-bottom: 1.5rem;
    color: {{ section.settings.star_color }};
  }

  .multicolumn-card__info {
    display: flex;
    flex-direction: row;
    align-items: center;
    margin-top: auto;
  }

  .multicolumn-card__image-wrapper {
    margin-right: 20px;
  }

  .multicolumn-card__image {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    overflow: hidden;
  }

  .multicolumn-card__image img {
    width: 100%;
    height: auto;
  }

  .multicolumn-card__text {
    display: flex;
    flex-direction: column;
  }

  .verified-buyer {
    color: #5271FF;
    font-style: italic;
    margin-top: -10px;
    font-family: "Open Sans", sans-serif;
    font-weight: 500;
    font-size: 12px;
  }

  .verified-buyer::after {
    content: '\2714';
    display: inline-block;
    width: 17px;
    height: 17px;
    background-color: #5271FF;
    border-radius: 50%;
    color: white;
    font-size: 12px;
    font-weight: bold;
    text-align: center;
    line-height: 16px;
    margin-left: 5px;
  }

  @media only screen and (max-width: 800px) {
    .grid-container {
      grid-template-columns: repeat(1, 1fr); /* 1 card per row for smaller screens */
    }
  }
{% endstyle %}

<div class="multicolumn background-{{ section.settings.background_style }}{% if section.settings.title == blank %} no-heading{% endif %}">
  <div class="page-width">
    <div class="title-wrapper--self-padded-mobile {% if section.settings.heading_alignment == 'center' %} center{% endif %}">
      <h2 class="testimonials-title">{{ section.settings.title | escape }}</h2>
    </div>
    <div class="{% if section.settings.heading_alignment == 'center' %} center{% endif %}">
      {% if section.settings.subtitle != blank %}
        <p class="p-testimonials">{{ section.settings.subtitle | escape }}</p>
      {% endif %}
    </div>

    <div class="grid-container">
      {% for block in section.blocks %}
        <li id="Slide-{{ section.id }}-{{ forloop.index }}" class="multicolumn-list__item grid__item">
          <div class="multicolumn-card">
            {% if block.settings.toggle_review_stars %}
              <div class="reviews">
                {% assign stars_count = block.settings.stars_count | plus: 0 %}
                {% for star in (1..5) %}
                  {% if star <= stars_count %}
                    <i class="fa fa-star"></i>
                  {% else %}
                    <i class="fa fa-star-o"></i>
                  {% endif %}
                {% endfor %}
              </div>
            {% endif %}
            {% if block.settings.text != blank %}
              <div class="rte">{{ block.settings.text }}</div>
            {% endif %}

            <div class="multicolumn-card__info">
              <div class="multicolumn-card__image-wrapper">
                {% if block.settings.image != blank %}
                  <div class="multicolumn-card__image">
                    <img
                      src="{{ block.settings.image | img_url: '275x' }}"
                      alt="{{ block.settings.image.alt }}"
                      loading="lazy"
                    >
                  </div>
                {% endif %}
              </div>
              <div class="multicolumn-card__text">
                {% if block.settings.title != blank %}
                  <h3>{{ block.settings.title | escape }}</h3>
                {% endif %}
                {% if block.settings.verified_buyer %}
                  <div class="verified-buyer">Verified Buyer</div>
                {% endif %}
              </div>
            </div>
          </div>
        </li>
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Customer Testimonials 2",
  "class": "spaced-section spaced-section--full-width",
  "settings": [
    { "type": "text", "id": "title", "default": "Testimonials", "label": "Title" },
    { "type": "text", "id": "subtitle", "default": "Get inspired by other customers", "label": "Subtitle" },
    { "type": "select", "id": "heading_alignment", "options": [{"value": "left", "label": "Left"},{"value": "center", "label": "Center"}], "default": "left", "label": "Heading Alignment" },
    { "type": "color", "id": "star_color", "label": "Star Color", "default": "#ffcc33" },
    { "type": "color", "id": "testimonial_background", "label": "Testimonial Background", "default": "#ffffff" },
    { "type": "color", "id": "testimonial_section_background", "label": "Section Background", "default": "#eaeaea" }
  ],
  "blocks": [
    {
      "type": "column",
      "name": "Customer",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Customer Image" },
        { "type": "text", "id": "title", "default": "Customer Name", "label": "Customer Name" },
        { "type": "richtext", "id": "text", "default": "<p>Testimonial text here</p>", "label": "Customer Testimonial" },
        { "type": "select", "id": "stars_count", "options": [{"value": "5","label": "5"},{"value": "4.5","label": "4.5"},{"value": "4","label": "4"},{"value": "3","label": "3"}], "default": "5", "label": "Stars Count" },
        { "type": "checkbox", "id": "toggle_review_stars", "default": true, "label": "Show Review Stars" },
        { "type": "checkbox", "id": "verified_buyer", "default": true, "label": "Is this customer a verified buyer?" }
      ]
    }
  ],
  "presets": [{ "name": "Customer Testimonials 2", "category": "Testimonials" }]
}
{% endschema %}
